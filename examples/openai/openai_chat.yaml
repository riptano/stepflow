inputs:
  type: object
  required: [prompt]
  properties:
    prompt:
      type: string
      description: "The prompt to send to OpenAI"
    system_message:
      type: string
      description: "Optional system message to set context"
      default: "You are a helpful assistant, explaining complex things in simple terms."

steps:
  - id: create_messages
    component: "builtins://create_messages"
    args:
      system_instructions: { input: system_message }
      user_prompt: { input: prompt }

  - id: send_message
    component: "builtins://openai"
    args:
      messages: { step: create_messages, field: messages }
  
outputs:
  response: { step: send_message, field: response }